<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="keywords" content="python programming language,python faster way,python,programming,language,python2,python27">
        <meta name="description" content="python programming language faster way">
        <meta name="author" content="Zokis">
        <link rel="icon" href="images/python.org.16.ico" sizes="16x16">
        <link rel="icon" href="images/python.org.ico">
        <link rel="stylesheet" type="text/css" href="stylesheets/compress.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="stylesheets/gments/monokai.css" media="screen" />
        <title>Python: faster way</title>
    </head>    
<body>
<header>
    <div class="container-super">
         <h1>Python: faster way</h1>
         <h2>
          Tricks for your code run faster --
          <a href="https://github.com/zokis/Python--Faster-Way">
            <img src="images/blacktocat.png">
          </a>
         </h2>
    </div>
</header>
<div class="container-fluid">
    <a href="#platform"><h4>#Platform</h4></a>
    <div class="row-fluid" id="platform">
        <div class="span12"><pre class="python">
>>> import sys
>>> import platform
>>> platform.system()
'Linux'
>>> platform.release()
'3.13.0-44-generic'
>>> sys.version
'2.7.6 (default, Mar 22 2014, 22:59:56) 
[GCC 4.8.2]'
>>> import timeit
>>> from dis import dis
>>> 
        </pre></div>
    </div>
    
    <a href="#test1"><h4>#Test 1</h4></a>
    <div class="row-fluid" id="test1">
        
        <div class="span6"><pre class="python">
def a():
    d = {}
    return d

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.0815708637238
>>> 
>>> dis(a)
  5           0 BUILD_MAP                0
              3 STORE_FAST               0 (d)

  6           6 LOAD_FAST                0 (d)
              9 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    d = dict()
    return d

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.139857053757
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (dict)
              3 CALL_FUNCTION            0
              6 STORE_FAST               0 (d)

  6           9 LOAD_FAST                0 (d)
             12 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test2"><h4>#Test 2</h4></a>
    <div class="row-fluid" id="test2">
        
        <div class="span6"><pre class="python">
def a():
    l = [0, 8, 6, 4, 2, 1, 3, 5, 7, 9]
    l.sort()
    return l

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.539682865143
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 LOAD_CONST               2 (8)
              6 LOAD_CONST               3 (6)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (2)
             15 LOAD_CONST               6 (1)
             18 LOAD_CONST               7 (3)
             21 LOAD_CONST               8 (5)
             24 LOAD_CONST               9 (7)
             27 LOAD_CONST              10 (9)
             30 BUILD_LIST              10
             33 STORE_FAST               0 (l)

  6          36 LOAD_FAST                0 (l)
             39 LOAD_ATTR                0 (sort)
             42 CALL_FUNCTION            0
             45 POP_TOP             

  7          46 LOAD_FAST                0 (l)
             49 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    l = [0, 8, 6, 4, 2, 1, 3, 5, 7, 9]
    return sorted(l)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.731909036636
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 LOAD_CONST               2 (8)
              6 LOAD_CONST               3 (6)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (2)
             15 LOAD_CONST               6 (1)
             18 LOAD_CONST               7 (3)
             21 LOAD_CONST               8 (5)
             24 LOAD_CONST               9 (7)
             27 LOAD_CONST              10 (9)
             30 BUILD_LIST              10
             33 STORE_FAST               0 (l)

  6          36 LOAD_GLOBAL              0 (sorted)
             39 LOAD_FAST                0 (l)
             42 CALL_FUNCTION            1
             45 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test3"><h4>#Test 3</h4></a>
    <div class="row-fluid" id="test3">
        
        <div class="span6"><pre class="python">
def a():
    a = 0
    b = 1
    c = 2
    d = 3
    e = 4
    f = 5
    g = 6
    h = 7
    i = 8
    j = 9
    return j, i, h, g, f, e, d, c, b, a

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.241739034653
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 STORE_FAST               0 (a)

  6           6 LOAD_CONST               2 (1)
              9 STORE_FAST               1 (b)

  7          12 LOAD_CONST               3 (2)
             15 STORE_FAST               2 (c)

  8          18 LOAD_CONST               4 (3)
             21 STORE_FAST               3 (d)

  9          24 LOAD_CONST               5 (4)
             27 STORE_FAST               4 (e)

 10          30 LOAD_CONST               6 (5)
             33 STORE_FAST               5 (f)

 11          36 LOAD_CONST               7 (6)
             39 STORE_FAST               6 (g)

 12          42 LOAD_CONST               8 (7)
             45 STORE_FAST               7 (h)

 13          48 LOAD_CONST               9 (8)
             51 STORE_FAST               8 (i)

 14          54 LOAD_CONST              10 (9)
             57 STORE_FAST               9 (j)

 15          60 LOAD_FAST                9 (j)
             63 LOAD_FAST                8 (i)
             66 LOAD_FAST                7 (h)
             69 LOAD_FAST                6 (g)
             72 LOAD_FAST                5 (f)
             75 LOAD_FAST                4 (e)
             78 LOAD_FAST                3 (d)
             81 LOAD_FAST                2 (c)
             84 LOAD_FAST                1 (b)
             87 LOAD_FAST                0 (a)
             90 BUILD_TUPLE             10
             93 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    a, b, c, d, e, f, g, h, i, j = 0, 1, 2, 3, 4, 5, 6, 7, 8, 9
    return j, i, h, g, f, e, d, c, b, a

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.242871999741
>>> 
>>> dis(a)
  5           0 LOAD_CONST              11 ((0, 1, 2, 3, 4, 5, 6, 7, 8, 9))
              3 UNPACK_SEQUENCE         10
              6 STORE_FAST               0 (a)
              9 STORE_FAST               1 (b)
             12 STORE_FAST               2 (c)
             15 STORE_FAST               3 (d)
             18 STORE_FAST               4 (e)
             21 STORE_FAST               5 (f)
             24 STORE_FAST               6 (g)
             27 STORE_FAST               7 (h)
             30 STORE_FAST               8 (i)
             33 STORE_FAST               9 (j)

  6          36 LOAD_FAST                9 (j)
             39 LOAD_FAST                8 (i)
             42 LOAD_FAST                7 (h)
             45 LOAD_FAST                6 (g)
             48 LOAD_FAST                5 (f)
             51 LOAD_FAST                4 (e)
             54 LOAD_FAST                3 (d)
             57 LOAD_FAST                2 (c)
             60 LOAD_FAST                1 (b)
             63 LOAD_FAST                0 (a)
             66 BUILD_TUPLE             10
             69 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test4"><h4>#Test 4</h4></a>
    <div class="row-fluid" id="test4">
        
        <div class="span6"><pre class="python">
def a():
    a, b, c, d, e, f = 2, 5, 52, 25, 225, 552
    if a < b and b < c and c < d and d < e and e < f:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.165856122971
>>> 
>>> dis(a)
  5           0 LOAD_CONST               7 ((2, 5, 52, 25, 225, 552))
              3 UNPACK_SEQUENCE          6
              6 STORE_FAST               0 (a)
              9 STORE_FAST               1 (b)
             12 STORE_FAST               2 (c)
             15 STORE_FAST               3 (d)
             18 STORE_FAST               4 (e)
             21 STORE_FAST               5 (f)

  6          24 LOAD_FAST                0 (a)
             27 LOAD_FAST                1 (b)
             30 COMPARE_OP               0 (&lt;)
             33 POP_JUMP_IF_FALSE       88
             36 LOAD_FAST                1 (b)
             39 LOAD_FAST                2 (c)
             42 COMPARE_OP               0 (&lt;)
             45 POP_JUMP_IF_FALSE       88
             48 LOAD_FAST                2 (c)
             51 LOAD_FAST                3 (d)
             54 COMPARE_OP               0 (&lt;)
             57 POP_JUMP_IF_FALSE       88
             60 LOAD_FAST                3 (d)
             63 LOAD_FAST                4 (e)
             66 COMPARE_OP               0 (&lt;)
             69 POP_JUMP_IF_FALSE       88
             72 LOAD_FAST                4 (e)
             75 LOAD_FAST                5 (f)
             78 COMPARE_OP               0 (&lt;)
             81 POP_JUMP_IF_FALSE       88

  7          84 LOAD_GLOBAL              0 (True)
             87 RETURN_VALUE        

  8     &gt;&gt;   88 LOAD_GLOBAL              1 (False)
             91 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    a, b, c, d, e, f = 2, 5, 52, 25, 225, 552
    if a < b < c < d < e < f:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.208171844482
>>> 
>>> dis(a)
  5           0 LOAD_CONST               7 ((2, 5, 52, 25, 225, 552))
              3 UNPACK_SEQUENCE          6
              6 STORE_FAST               0 (a)
              9 STORE_FAST               1 (b)
             12 STORE_FAST               2 (c)
             15 STORE_FAST               3 (d)
             18 STORE_FAST               4 (e)
             21 STORE_FAST               5 (f)

  6          24 LOAD_FAST                0 (a)
             27 LOAD_FAST                1 (b)
             30 DUP_TOP             
             31 ROT_THREE           
             32 COMPARE_OP               0 (&lt;)
             35 JUMP_IF_FALSE_OR_POP    80
             38 LOAD_FAST                2 (c)
             41 DUP_TOP             
             42 ROT_THREE           
             43 COMPARE_OP               0 (&lt;)
             46 JUMP_IF_FALSE_OR_POP    80
             49 LOAD_FAST                3 (d)
             52 DUP_TOP             
             53 ROT_THREE           
             54 COMPARE_OP               0 (&lt;)
             57 JUMP_IF_FALSE_OR_POP    80
             60 LOAD_FAST                4 (e)
             63 DUP_TOP             
             64 ROT_THREE           
             65 COMPARE_OP               0 (&lt;)
             68 JUMP_IF_FALSE_OR_POP    80
             71 LOAD_FAST                5 (f)
             74 COMPARE_OP               0 (&lt;)
             77 JUMP_FORWARD             2 (to 82)
        &gt;&gt;   80 ROT_TWO             
             81 POP_TOP             
        &gt;&gt;   82 POP_JUMP_IF_FALSE       89

  7          85 LOAD_GLOBAL              0 (True)
             88 RETURN_VALUE        

  8     &gt;&gt;   89 LOAD_GLOBAL              1 (False)
             92 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test5"><h4>#Test 5</h4></a>
    <div class="row-fluid" id="test5">
        
        <div class="span4"><pre class="python">
def a():
    a = True
    if a:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.0974490642548
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (True)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 POP_JUMP_IF_FALSE       16

  7          12 LOAD_GLOBAL              0 (True)
             15 RETURN_VALUE        

  8     &gt;&gt;   16 LOAD_GLOBAL              1 (False)
             19 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = True
    if a is True:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.129472017288
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (True)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_GLOBAL              0 (True)
             12 COMPARE_OP               8 (is)
             15 POP_JUMP_IF_FALSE       22

  7          18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        

  8     &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = True
    if a == True:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.134331941605
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (True)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_GLOBAL              0 (True)
             12 COMPARE_OP               2 (==)
             15 POP_JUMP_IF_FALSE       22

  7          18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        

  8     &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test6"><h4>#Test 6</h4></a>
    <div class="row-fluid" id="test6">
        
        <div class="span4"><pre class="python">
def a():
    a = 1
    if not a is 2:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.106234073639
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               2 (2)
             12 COMPARE_OP               9 (is not)
             15 POP_JUMP_IF_FALSE       22

  7          18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        

  8     &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = 1
    if a is not 2:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.106376886368
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               2 (2)
             12 COMPARE_OP               9 (is not)
             15 POP_JUMP_IF_FALSE       22

  7          18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        

  8     &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = 1
    if a != 2:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.107366085052
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               2 (2)
             12 COMPARE_OP               3 (!=)
             15 POP_JUMP_IF_FALSE       22

  7          18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        

  8     &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test7"><h4>#Test 7</h4></a>
    <div class="row-fluid" id="test7">
        
        <div class="span3"><pre class="python">
def a():
    a = []
    if not a:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.105212926865
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 POP_JUMP_IF_TRUE        16

  7          12 LOAD_GLOBAL              0 (True)
             15 RETURN_VALUE        

  8     &gt;&gt;   16 LOAD_GLOBAL              1 (False)
             19 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    a = []
    if a:
        return False
    return True

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.106164216995
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 POP_JUMP_IF_FALSE       16

  7          12 LOAD_GLOBAL              0 (False)
             15 RETURN_VALUE        

  8     &gt;&gt;   16 LOAD_GLOBAL              1 (True)
             19 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    a = []
    if a == []:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.131546974182
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 BUILD_LIST               0
             12 COMPARE_OP               2 (==)
             15 POP_JUMP_IF_FALSE       22

  7          18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        

  8     &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    a = []
    if len(a) <= 0:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.134056806564
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 STORE_FAST               0 (a)

  6           6 LOAD_GLOBAL              0 (len)
              9 LOAD_FAST                0 (a)
             12 CALL_FUNCTION            1
             15 LOAD_CONST               1 (0)
             18 COMPARE_OP               1 (&lt;=)
             21 POP_JUMP_IF_FALSE       28

  7          24 LOAD_GLOBAL              1 (True)
             27 RETURN_VALUE        

  8     &gt;&gt;   28 LOAD_GLOBAL              2 (False)
             31 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test8"><h4>#Test 8</h4></a>
    <div class="row-fluid" id="test8">
        
        <div class="span3"><pre class="python">
def a():
    a = object()
    if a:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.147808074951
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (object)
              3 CALL_FUNCTION            0
              6 STORE_FAST               0 (a)

  6           9 LOAD_FAST                0 (a)
             12 POP_JUMP_IF_FALSE       19

  7          15 LOAD_GLOBAL              1 (True)
             18 RETURN_VALUE        

  8     &gt;&gt;   19 LOAD_GLOBAL              2 (False)
             22 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    a = object()
    if not a:
        return False
    return True

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.148594856262
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (object)
              3 CALL_FUNCTION            0
              6 STORE_FAST               0 (a)

  6           9 LOAD_FAST                0 (a)
             12 POP_JUMP_IF_TRUE        19

  7          15 LOAD_GLOBAL              1 (False)
             18 RETURN_VALUE        

  8     &gt;&gt;   19 LOAD_GLOBAL              2 (True)
             22 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    a = object()
    if a is None:
        return False
    return True

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.154464006424
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (object)
              3 CALL_FUNCTION            0
              6 STORE_FAST               0 (a)

  6           9 LOAD_FAST                0 (a)
             12 LOAD_CONST               0 (None)
             15 COMPARE_OP               8 (is)
             18 POP_JUMP_IF_FALSE       25

  7          21 LOAD_GLOBAL              2 (False)
             24 RETURN_VALUE        

  8     &gt;&gt;   25 LOAD_GLOBAL              3 (True)
             28 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    a = object()
    if a is not None:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.157068014145
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (object)
              3 CALL_FUNCTION            0
              6 STORE_FAST               0 (a)

  6           9 LOAD_FAST                0 (a)
             12 LOAD_CONST               0 (None)
             15 COMPARE_OP               9 (is not)
             18 POP_JUMP_IF_FALSE       25

  7          21 LOAD_GLOBAL              2 (True)
             24 RETURN_VALUE        

  8     &gt;&gt;   25 LOAD_GLOBAL              3 (False)
             28 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test9"><h4>#Test 9</h4></a>
    <div class="row-fluid" id="test9">
        
        <div class="span6"><pre class="python">
def a():
    a = [1, 2, 3, 4, 5]
    s = 0
    for p, v in enumerate(a):
        s += p
        s += v
    return s

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.776149988174
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 BUILD_LIST               5
             18 STORE_FAST               0 (a)

  6          21 LOAD_CONST               6 (0)
             24 STORE_FAST               1 (s)

  7          27 SETUP_LOOP              46 (to 76)
             30 LOAD_GLOBAL              0 (enumerate)
             33 LOAD_FAST                0 (a)
             36 CALL_FUNCTION            1
             39 GET_ITER            
        &gt;&gt;   40 FOR_ITER                32 (to 75)
             43 UNPACK_SEQUENCE          2
             46 STORE_FAST               2 (p)
             49 STORE_FAST               3 (v)

  8          52 LOAD_FAST                1 (s)
             55 LOAD_FAST                2 (p)
             58 INPLACE_ADD         
             59 STORE_FAST               1 (s)

  9          62 LOAD_FAST                1 (s)
             65 LOAD_FAST                3 (v)
             68 INPLACE_ADD         
             69 STORE_FAST               1 (s)
             72 JUMP_ABSOLUTE           40
        &gt;&gt;   75 POP_BLOCK           

 10     &gt;&gt;   76 LOAD_FAST                1 (s)
             79 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    a = [1, 2, 3, 4, 5]
    s = 0
    for i in range(len(a)):
        s += i
        s += a[i]
    return s

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.795729875565
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 BUILD_LIST               5
             18 STORE_FAST               0 (a)

  6          21 LOAD_CONST               6 (0)
             24 STORE_FAST               1 (s)

  7          27 SETUP_LOOP              50 (to 80)
             30 LOAD_GLOBAL              0 (range)
             33 LOAD_GLOBAL              1 (len)
             36 LOAD_FAST                0 (a)
             39 CALL_FUNCTION            1
             42 CALL_FUNCTION            1
             45 GET_ITER            
        &gt;&gt;   46 FOR_ITER                30 (to 79)
             49 STORE_FAST               2 (i)

  8          52 LOAD_FAST                1 (s)
             55 LOAD_FAST                2 (i)
             58 INPLACE_ADD         
             59 STORE_FAST               1 (s)

  9          62 LOAD_FAST                1 (s)
             65 LOAD_FAST                0 (a)
             68 LOAD_FAST                2 (i)
             71 BINARY_SUBSCR       
             72 INPLACE_ADD         
             73 STORE_FAST               1 (s)
             76 JUMP_ABSOLUTE           46
        &gt;&gt;   79 POP_BLOCK           

 10     &gt;&gt;   80 LOAD_FAST                1 (s)
             83 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test10"><h4>#Test 10</h4></a>
    <div class="row-fluid" id="test10">
        
        <div class="span6"><pre class="python">
def a():
    r = ''
    for i in range(10):
        r += str(i)
    return r

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.66828513145
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&#39;&#39;)
              3 STORE_FAST               0 (r)

  6           6 SETUP_LOOP              36 (to 45)
              9 LOAD_GLOBAL              0 (range)
             12 LOAD_CONST               2 (10)
             15 CALL_FUNCTION            1
             18 GET_ITER            
        &gt;&gt;   19 FOR_ITER                22 (to 44)
             22 STORE_FAST               1 (i)

  7          25 LOAD_FAST                0 (r)
             28 LOAD_GLOBAL              1 (str)
             31 LOAD_FAST                1 (i)
             34 CALL_FUNCTION            1
             37 INPLACE_ADD         
             38 STORE_FAST               0 (r)
             41 JUMP_ABSOLUTE           19
        &gt;&gt;   44 POP_BLOCK           

  8     &gt;&gt;   45 LOAD_FAST                0 (r)
             48 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    r = []
    for i in range(10):
        r.append(str(i))
    return ''.join(r)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 2.19439911842
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 STORE_FAST               0 (r)

  6           6 SETUP_LOOP              39 (to 48)
              9 LOAD_GLOBAL              0 (range)
             12 LOAD_CONST               1 (10)
             15 CALL_FUNCTION            1
             18 GET_ITER            
        &gt;&gt;   19 FOR_ITER                25 (to 47)
             22 STORE_FAST               1 (i)

  7          25 LOAD_FAST                0 (r)
             28 LOAD_ATTR                1 (append)
             31 LOAD_GLOBAL              2 (str)
             34 LOAD_FAST                1 (i)
             37 CALL_FUNCTION            1
             40 CALL_FUNCTION            1
             43 POP_TOP             
             44 JUMP_ABSOLUTE           19
        &gt;&gt;   47 POP_BLOCK           

  8     &gt;&gt;   48 LOAD_CONST               2 (&#39;&#39;)
             51 LOAD_ATTR                3 (join)
             54 LOAD_FAST                0 (r)
             57 CALL_FUNCTION            1
             60 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test11"><h4>#Test 11</h4></a>
    <div class="row-fluid" id="test11">
        
        <div class="span4"><pre class="python">
def a():
    a = 5
    b = 2
    c = 3
    return "%s" % (a*(b+c))

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.276108026505
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (5)
              3 STORE_FAST               0 (a)

  6           6 LOAD_CONST               2 (2)
              9 STORE_FAST               1 (b)

  7          12 LOAD_CONST               3 (3)
             15 STORE_FAST               2 (c)

  8          18 LOAD_CONST               4 (&#39;%s&#39;)
             21 LOAD_FAST                0 (a)
             24 LOAD_FAST                1 (b)
             27 LOAD_FAST                2 (c)
             30 BINARY_ADD          
             31 BINARY_MULTIPLY     
             32 BINARY_MODULO       
             33 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = 5
    b = 2
    c = 3
    return str(a*(b+c))

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.3086810112
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (5)
              3 STORE_FAST               0 (a)

  6           6 LOAD_CONST               2 (2)
              9 STORE_FAST               1 (b)

  7          12 LOAD_CONST               3 (3)
             15 STORE_FAST               2 (c)

  8          18 LOAD_GLOBAL              0 (str)
             21 LOAD_FAST                0 (a)
             24 LOAD_FAST                1 (b)
             27 LOAD_FAST                2 (c)
             30 BINARY_ADD          
             31 BINARY_MULTIPLY     
             32 CALL_FUNCTION            1
             35 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = 5
    b = 2
    c = 3
    return "%d" % (a*(b+c))

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.596243858337
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (5)
              3 STORE_FAST               0 (a)

  6           6 LOAD_CONST               2 (2)
              9 STORE_FAST               1 (b)

  7          12 LOAD_CONST               3 (3)
             15 STORE_FAST               2 (c)

  8          18 LOAD_CONST               4 (&#39;%d&#39;)
             21 LOAD_FAST                0 (a)
             24 LOAD_FAST                1 (b)
             27 LOAD_FAST                2 (c)
             30 BINARY_ADD          
             31 BINARY_MULTIPLY     
             32 BINARY_MODULO       
             33 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test12"><h4>#Test 12</h4></a>
    <div class="row-fluid" id="test12">
        
        <div class="span6"><pre class="python">
def a():
    a = [1, 2, 3, 4, 5]
    return len(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.184298038483
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 BUILD_LIST               5
             18 STORE_FAST               0 (a)

  6          21 LOAD_GLOBAL              0 (len)
             24 LOAD_FAST                0 (a)
             27 CALL_FUNCTION            1
             30 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    a = [1, 2, 3, 4, 5]
    return a.__len__()

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.212290048599
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 BUILD_LIST               5
             18 STORE_FAST               0 (a)

  6          21 LOAD_FAST                0 (a)
             24 LOAD_ATTR                0 (__len__)
             27 CALL_FUNCTION            0
             30 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test13"><h4>#Test 13</h4></a>
    <div class="row-fluid" id="test13">
        
        <div class="span6"><pre class="python">
def a():
    a = 1
    b = 2
    c = 2
    d = 5
    return (a+b+c)*d

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.177171945572
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_CONST               2 (2)
              9 STORE_FAST               1 (b)

  7          12 LOAD_CONST               2 (2)
             15 STORE_FAST               2 (c)

  8          18 LOAD_CONST               3 (5)
             21 STORE_FAST               3 (d)

  9          24 LOAD_FAST                0 (a)
             27 LOAD_FAST                1 (b)
             30 BINARY_ADD          
             31 LOAD_FAST                2 (c)
             34 BINARY_ADD          
             35 LOAD_FAST                3 (d)
             38 BINARY_MULTIPLY     
             39 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    a = 1
    b = 2
    c = 2
    d = 5
    return (a.__add__(b.__add__(c))).__mul__(d)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.380198001862
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_CONST               2 (2)
              9 STORE_FAST               1 (b)

  7          12 LOAD_CONST               2 (2)
             15 STORE_FAST               2 (c)

  8          18 LOAD_CONST               3 (5)
             21 STORE_FAST               3 (d)

  9          24 LOAD_FAST                0 (a)
             27 LOAD_ATTR                0 (__add__)
             30 LOAD_FAST                1 (b)
             33 LOAD_ATTR                0 (__add__)
             36 LOAD_FAST                2 (c)
             39 CALL_FUNCTION            1
             42 CALL_FUNCTION            1
             45 LOAD_ATTR                1 (__mul__)
             48 LOAD_FAST                3 (d)
             51 CALL_FUNCTION            1
             54 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test14"><h4>#Test 14</h4></a>
    <div class="row-fluid" id="test14">
        
        <div class="span6"><pre class="python">
class Z():

    def __init__(self, v):
        self.v = v

    def __mul__(self, o):
        return Z(self.v * o.v)

    def __add__(self, o):
        return Z(self.v + o.v)


def a():
    a = Z(5)
    b = Z(2)
    c = Z(3)
    return (b.__add__(c)).__mul__(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.74875187874
>>> 
>>> dis(a)
 17           0 LOAD_GLOBAL              0 (Z)
              3 LOAD_CONST               1 (5)
              6 CALL_FUNCTION            1
              9 STORE_FAST               0 (a)

 18          12 LOAD_GLOBAL              0 (Z)
             15 LOAD_CONST               2 (2)
             18 CALL_FUNCTION            1
             21 STORE_FAST               1 (b)

 19          24 LOAD_GLOBAL              0 (Z)
             27 LOAD_CONST               3 (3)
             30 CALL_FUNCTION            1
             33 STORE_FAST               2 (c)

 20          36 LOAD_FAST                1 (b)
             39 LOAD_ATTR                1 (__add__)
             42 LOAD_FAST                2 (c)
             45 CALL_FUNCTION            1
             48 LOAD_ATTR                2 (__mul__)
             51 LOAD_FAST                0 (a)
             54 CALL_FUNCTION            1
             57 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
class Z():

    def __init__(self, v):
        self.v = v

    def __mul__(self, o):
        return Z(self.v * o.v)

    def __add__(self, o):
        return Z(self.v + o.v)


def a():
    a = Z(5)
    b = Z(2)
    c = Z(3)
    return (b + c) * a

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 2.68529009819
>>> 
>>> dis(a)
 17           0 LOAD_GLOBAL              0 (Z)
              3 LOAD_CONST               1 (5)
              6 CALL_FUNCTION            1
              9 STORE_FAST               0 (a)

 18          12 LOAD_GLOBAL              0 (Z)
             15 LOAD_CONST               2 (2)
             18 CALL_FUNCTION            1
             21 STORE_FAST               1 (b)

 19          24 LOAD_GLOBAL              0 (Z)
             27 LOAD_CONST               3 (3)
             30 CALL_FUNCTION            1
             33 STORE_FAST               2 (c)

 20          36 LOAD_FAST                1 (b)
             39 LOAD_FAST                2 (c)
             42 BINARY_ADD          
             43 LOAD_FAST                0 (a)
             46 BINARY_MULTIPLY     
             47 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test15"><h4>#Test 15</h4></a>
    <div class="row-fluid" id="test15">
        
        <div class="span4"><pre class="python">
def a():
    return sum(range(50000))


number = 100000

>>> 
>>> min(timeit.repeat(a, number=100000))
... 70.3778419495
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (sum)
              3 LOAD_GLOBAL              1 (range)
              6 LOAD_CONST               1 (50000)
              9 CALL_FUNCTION            1
             12 CALL_FUNCTION            1
             15 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    s = 0
    for i in range(50000):
        s += i
    return s


number = 100000

>>> 
>>> min(timeit.repeat(a, number=100000))
... 182.999969006
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 STORE_FAST               0 (s)

  6           6 SETUP_LOOP              30 (to 39)
              9 LOAD_GLOBAL              0 (range)
             12 LOAD_CONST               2 (50000)
             15 CALL_FUNCTION            1
             18 GET_ITER            
        &gt;&gt;   19 FOR_ITER                16 (to 38)
             22 STORE_FAST               1 (i)

  7          25 LOAD_FAST                0 (s)
             28 LOAD_FAST                1 (i)
             31 INPLACE_ADD         
             32 STORE_FAST               0 (s)
             35 JUMP_ABSOLUTE           19
        &gt;&gt;   38 POP_BLOCK           

  8     &gt;&gt;   39 LOAD_FAST                0 (s)
             42 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    return sum(i for i in range(50000))


number = 100000

>>> 
>>> min(timeit.repeat(a, number=100000))
... 217.957270145
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (sum)
              3 LOAD_CONST               1 (&lt;code object &lt;genexpr&gt; at 0x7f8ef9429330, file &#34;/tmp/__pfw_test15_t2.py&#34;, line 5&gt;)
              6 MAKE_FUNCTION            0
              9 LOAD_GLOBAL              1 (range)
             12 LOAD_CONST               2 (50000)
             15 CALL_FUNCTION            1
             18 GET_ITER            
             19 CALL_FUNCTION            1
             22 CALL_FUNCTION            1
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test16"><h4>#Test 16</h4></a>
    <div class="row-fluid" id="test16">
        
        <div class="span6"><pre class="python">
def a():
    return [i for i in range(1000)]


number = 100000

>>> 
>>> min(timeit.repeat(a, number=100000))
... 2.9911699295
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 LOAD_GLOBAL              0 (range)
              6 LOAD_CONST               1 (1000)
              9 CALL_FUNCTION            1
             12 GET_ITER            
        &gt;&gt;   13 FOR_ITER                12 (to 28)
             16 STORE_FAST               0 (i)
             19 LOAD_FAST                0 (i)
             22 LIST_APPEND              2
             25 JUMP_ABSOLUTE           13
        &gt;&gt;   28 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    l = []
    for i in range(1000):
        l.append(i)
    return l


number = 100000

>>> 
>>> min(timeit.repeat(a, number=100000))
... 6.83729791641
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 STORE_FAST               0 (l)

  6           6 SETUP_LOOP              33 (to 42)
              9 LOAD_GLOBAL              0 (range)
             12 LOAD_CONST               1 (1000)
             15 CALL_FUNCTION            1
             18 GET_ITER            
        &gt;&gt;   19 FOR_ITER                19 (to 41)
             22 STORE_FAST               1 (i)

  7          25 LOAD_FAST                0 (l)
             28 LOAD_ATTR                1 (append)
             31 LOAD_FAST                1 (i)
             34 CALL_FUNCTION            1
             37 POP_TOP             
             38 JUMP_ABSOLUTE           19
        &gt;&gt;   41 POP_BLOCK           

  8     &gt;&gt;   42 LOAD_FAST                0 (l)
             45 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test17"><h4>#Test 17</h4></a>
    <div class="row-fluid" id="test17">
        
        <div class="span4"><pre class="python">
def a():
    return {str(i): i*2 for i in range(100)}

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 18.1344079971
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&lt;code object &lt;dictcomp&gt; at 0x7f541034d330, file &#34;/tmp/__pfw_test17_t3.py&#34;, line 5&gt;)
              3 MAKE_FUNCTION            0
              6 LOAD_GLOBAL              0 (range)
              9 LOAD_CONST               2 (100)
             12 CALL_FUNCTION            1
             15 GET_ITER            
             16 CALL_FUNCTION            1
             19 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    d = {}
    for i in range(100):
        d[str(i)] = i*2
    return d

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 19.2070329189
>>> 
>>> dis(a)
  5           0 BUILD_MAP                0
              3 STORE_FAST               0 (d)

  6           6 SETUP_LOOP              40 (to 49)
              9 LOAD_GLOBAL              0 (range)
             12 LOAD_CONST               1 (100)
             15 CALL_FUNCTION            1
             18 GET_ITER            
        &gt;&gt;   19 FOR_ITER                26 (to 48)
             22 STORE_FAST               1 (i)

  7          25 LOAD_FAST                1 (i)
             28 LOAD_CONST               2 (2)
             31 BINARY_MULTIPLY     
             32 LOAD_FAST                0 (d)
             35 LOAD_GLOBAL              1 (str)
             38 LOAD_FAST                1 (i)
             41 CALL_FUNCTION            1
             44 STORE_SUBSCR        
             45 JUMP_ABSOLUTE           19
        &gt;&gt;   48 POP_BLOCK           

  8     &gt;&gt;   49 LOAD_FAST                0 (d)
             52 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    d = {}
    for i in range(100):
        d.update({str(i): i*2})
    return d

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 38.8968930244
>>> 
>>> dis(a)
  5           0 BUILD_MAP                0
              3 STORE_FAST               0 (d)

  6           6 SETUP_LOOP              50 (to 59)
              9 LOAD_GLOBAL              0 (range)
             12 LOAD_CONST               1 (100)
             15 CALL_FUNCTION            1
             18 GET_ITER            
        &gt;&gt;   19 FOR_ITER                36 (to 58)
             22 STORE_FAST               1 (i)

  7          25 LOAD_FAST                0 (d)
             28 LOAD_ATTR                1 (update)
             31 BUILD_MAP                1
             34 LOAD_FAST                1 (i)
             37 LOAD_CONST               2 (2)
             40 BINARY_MULTIPLY     
             41 LOAD_GLOBAL              2 (str)
             44 LOAD_FAST                1 (i)
             47 CALL_FUNCTION            1
             50 STORE_MAP           
             51 CALL_FUNCTION            1
             54 POP_TOP             
             55 JUMP_ABSOLUTE           19
        &gt;&gt;   58 POP_BLOCK           

  8     &gt;&gt;   59 LOAD_FAST                0 (d)
             62 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test18"><h4>#Test 18</h4></a>
    <div class="row-fluid" id="test18">
        
        <div class="span4"><pre class="python">
def a():
    l = range(50, -20, -2)
    return {p: v for p, v in enumerate(l)}

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 2.88772201538
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (range)
              3 LOAD_CONST               1 (50)
              6 LOAD_CONST               2 (-20)
              9 LOAD_CONST               3 (-2)
             12 CALL_FUNCTION            3
             15 STORE_FAST               0 (l)

  6          18 LOAD_CONST               4 (&lt;code object &lt;dictcomp&gt; at 0x7effe067c330, file &#34;/tmp/__pfw_test18_t3.py&#34;, line 6&gt;)
             21 MAKE_FUNCTION            0
             24 LOAD_GLOBAL              1 (enumerate)
             27 LOAD_FAST                0 (l)
             30 CALL_FUNCTION            1
             33 GET_ITER            
             34 CALL_FUNCTION            1
             37 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    l = range(50, -20, -2)
    d = {}
    for p, v in enumerate(l):
        d[p] = v
    return d

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 3.11915302277
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (range)
              3 LOAD_CONST               1 (50)
              6 LOAD_CONST               2 (-20)
              9 LOAD_CONST               3 (-2)
             12 CALL_FUNCTION            3
             15 STORE_FAST               0 (l)

  6          18 BUILD_MAP                0
             21 STORE_FAST               1 (d)

  7          24 SETUP_LOOP              36 (to 63)
             27 LOAD_GLOBAL              1 (enumerate)
             30 LOAD_FAST                0 (l)
             33 CALL_FUNCTION            1
             36 GET_ITER            
        &gt;&gt;   37 FOR_ITER                22 (to 62)
             40 UNPACK_SEQUENCE          2
             43 STORE_FAST               2 (p)
             46 STORE_FAST               3 (v)

  8          49 LOAD_FAST                3 (v)
             52 LOAD_FAST                1 (d)
             55 LOAD_FAST                2 (p)
             58 STORE_SUBSCR        
             59 JUMP_ABSOLUTE           37
        &gt;&gt;   62 POP_BLOCK           

  9     &gt;&gt;   63 LOAD_FAST                1 (d)
             66 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    l = range(50, -20, -2)
    d = {}
    for p, v in enumerate(l):
        d.update({p: v})
    return d

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 10.0911700726
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (range)
              3 LOAD_CONST               1 (50)
              6 LOAD_CONST               2 (-20)
              9 LOAD_CONST               3 (-2)
             12 CALL_FUNCTION            3
             15 STORE_FAST               0 (l)

  6          18 BUILD_MAP                0
             21 STORE_FAST               1 (d)

  7          24 SETUP_LOOP              46 (to 73)
             27 LOAD_GLOBAL              1 (enumerate)
             30 LOAD_FAST                0 (l)
             33 CALL_FUNCTION            1
             36 GET_ITER            
        &gt;&gt;   37 FOR_ITER                32 (to 72)
             40 UNPACK_SEQUENCE          2
             43 STORE_FAST               2 (p)
             46 STORE_FAST               3 (v)

  8          49 LOAD_FAST                1 (d)
             52 LOAD_ATTR                2 (update)
             55 BUILD_MAP                1
             58 LOAD_FAST                3 (v)
             61 LOAD_FAST                2 (p)
             64 STORE_MAP           
             65 CALL_FUNCTION            1
             68 POP_TOP             
             69 JUMP_ABSOLUTE           37
        &gt;&gt;   72 POP_BLOCK           

  9     &gt;&gt;   73 LOAD_FAST                1 (d)
             76 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test19"><h4>#Test 19</h4></a>
    <div class="row-fluid" id="test19">
        
        <div class="span2"><pre class="python">
def a():
    a = []
    return bool(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.174682855606
>>> 
>>> dis(a)
  5           0 BUILD_LIST               0
              3 STORE_FAST               0 (a)

  6           6 LOAD_GLOBAL              0 (bool)
              9 LOAD_FAST                0 (a)
             12 CALL_FUNCTION            1
             15 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span2"><pre class="python">
def a():
    a = 1
    return bool(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.17576789856
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_GLOBAL              0 (bool)
              9 LOAD_FAST                0 (a)
             12 CALL_FUNCTION            1
             15 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span2"><pre class="python">
def a():
    a = 0
    return bool(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.175832033157
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 STORE_FAST               0 (a)

  6           6 LOAD_GLOBAL              0 (bool)
              9 LOAD_FAST                0 (a)
             12 CALL_FUNCTION            1
             15 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span2"><pre class="python">
def a():
    a = True
    return bool(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.188625097275
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (True)
              3 STORE_FAST               0 (a)

  6           6 LOAD_GLOBAL              1 (bool)
              9 LOAD_FAST                0 (a)
             12 CALL_FUNCTION            1
             15 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span2"><pre class="python">
def a():
    a = [1]
    return bool(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.232078075409
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 BUILD_LIST               1
              6 STORE_FAST               0 (a)

  6           9 LOAD_GLOBAL              0 (bool)
             12 LOAD_FAST                0 (a)
             15 CALL_FUNCTION            1
             18 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span2"><pre class="python">
def a():
    a = [1, 2, 3, 4]
    return bool(a)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.246639966965
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 BUILD_LIST               4
             15 STORE_FAST               0 (a)

  6          18 LOAD_GLOBAL              0 (bool)
             21 LOAD_FAST                0 (a)
             24 CALL_FUNCTION            1
             27 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test20"><h4>#Test 20</h4></a>
    <div class="row-fluid" id="test20">
        
        <div class="span4"><pre class="python">
def a():
    a = 1
    return a != 2

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.096363067627
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               2 (2)
             12 COMPARE_OP               3 (!=)
             15 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = 1
    return True if a != 2 else False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.107831954956
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               2 (2)
             12 COMPARE_OP               3 (!=)
             15 POP_JUMP_IF_FALSE       22
             18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        
        &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = 1
    return a != 2 and True or False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.109485864639
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               2 (2)
             12 COMPARE_OP               3 (!=)
             15 POP_JUMP_IF_FALSE       24
             18 LOAD_GLOBAL              0 (True)
             21 JUMP_IF_TRUE_OR_POP     27
        &gt;&gt;   24 LOAD_GLOBAL              1 (False)
        &gt;&gt;   27 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test21"><h4>#Test 21</h4></a>
    <div class="row-fluid" id="test21">
        
        <div class="span4"><pre class="python">
def a():
    return sum([p+v for p, v in enumerate([1, 2, 3, 4, 5])])

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.79150390625
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (sum)
              3 BUILD_LIST               0
              6 LOAD_GLOBAL              1 (enumerate)
              9 LOAD_CONST               1 (1)
             12 LOAD_CONST               2 (2)
             15 LOAD_CONST               3 (3)
             18 LOAD_CONST               4 (4)
             21 LOAD_CONST               5 (5)
             24 BUILD_LIST               5
             27 CALL_FUNCTION            1
             30 GET_ITER            
        &gt;&gt;   31 FOR_ITER                22 (to 56)
             34 UNPACK_SEQUENCE          2
             37 STORE_FAST               0 (p)
             40 STORE_FAST               1 (v)
             43 LOAD_FAST                0 (p)
             46 LOAD_FAST                1 (v)
             49 BINARY_ADD          
             50 LIST_APPEND              2
             53 JUMP_ABSOLUTE           31
        &gt;&gt;   56 CALL_FUNCTION            1
             59 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = [1, 2, 3, 4, 5]
    return sum([p+v for p, v in enumerate(a)])

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.823944091797
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 BUILD_LIST               5
             18 STORE_FAST               0 (a)

  6          21 LOAD_GLOBAL              0 (sum)
             24 BUILD_LIST               0
             27 LOAD_GLOBAL              1 (enumerate)
             30 LOAD_FAST                0 (a)
             33 CALL_FUNCTION            1
             36 GET_ITER            
        &gt;&gt;   37 FOR_ITER                22 (to 62)
             40 UNPACK_SEQUENCE          2
             43 STORE_FAST               1 (p)
             46 STORE_FAST               2 (v)
             49 LOAD_FAST                1 (p)
             52 LOAD_FAST                2 (v)
             55 BINARY_ADD          
             56 LIST_APPEND              2
             59 JUMP_ABSOLUTE           37
        &gt;&gt;   62 CALL_FUNCTION            1
             65 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    return sum([p+v for p, v in enumerate(xrange(1, 6))])

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.970627069473
>>> 
>>> dis(a)
  5           0 LOAD_GLOBAL              0 (sum)
              3 BUILD_LIST               0
              6 LOAD_GLOBAL              1 (enumerate)
              9 LOAD_GLOBAL              2 (xrange)
             12 LOAD_CONST               1 (1)
             15 LOAD_CONST               2 (6)
             18 CALL_FUNCTION            2
             21 CALL_FUNCTION            1
             24 GET_ITER            
        &gt;&gt;   25 FOR_ITER                22 (to 50)
             28 UNPACK_SEQUENCE          2
             31 STORE_FAST               0 (p)
             34 STORE_FAST               1 (v)
             37 LOAD_FAST                0 (p)
             40 LOAD_FAST                1 (v)
             43 BINARY_ADD          
             44 LIST_APPEND              2
             47 JUMP_ABSOLUTE           25
        &gt;&gt;   50 CALL_FUNCTION            1
             53 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test22"><h4>#Test 22</h4></a>
    <div class="row-fluid" id="test22">
        
        <div class="span6"><pre class="python">
def a():
    a = 1
    if a == 1 or a == 2 or a == 3:
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.109730958939
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               1 (1)
             12 COMPARE_OP               2 (==)
             15 POP_JUMP_IF_TRUE        42
             18 LOAD_FAST                0 (a)
             21 LOAD_CONST               2 (2)
             24 COMPARE_OP               2 (==)
             27 POP_JUMP_IF_TRUE        42
             30 LOAD_FAST                0 (a)
             33 LOAD_CONST               3 (3)
             36 COMPARE_OP               2 (==)
             39 POP_JUMP_IF_FALSE       46

  7     &gt;&gt;   42 LOAD_GLOBAL              0 (True)
             45 RETURN_VALUE        

  8     &gt;&gt;   46 LOAD_GLOBAL              1 (False)
             49 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    a = 1
    if a in (1, 2, 3):
        return True
    return False

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.111259937286
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (a)

  6           6 LOAD_FAST                0 (a)
              9 LOAD_CONST               4 ((1, 2, 3))
             12 COMPARE_OP               6 (in)
             15 POP_JUMP_IF_FALSE       22

  7          18 LOAD_GLOBAL              0 (True)
             21 RETURN_VALUE        

  8     &gt;&gt;   22 LOAD_GLOBAL              1 (False)
             25 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test23"><h4>#Test 23</h4></a>
    <div class="row-fluid" id="test23">
        
        <div class="span4"><pre class="python">
def a():
    return ''.join(map(str, xrange(10)))

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.22678399086
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&#39;&#39;)
              3 LOAD_ATTR                0 (join)
              6 LOAD_GLOBAL              1 (map)
              9 LOAD_GLOBAL              2 (str)
             12 LOAD_GLOBAL              3 (xrange)
             15 LOAD_CONST               2 (10)
             18 CALL_FUNCTION            1
             21 CALL_FUNCTION            2
             24 CALL_FUNCTION            1
             27 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    return ''.join(map(str, range(10)))

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.32537794113
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&#39;&#39;)
              3 LOAD_ATTR                0 (join)
              6 LOAD_GLOBAL              1 (map)
              9 LOAD_GLOBAL              2 (str)
             12 LOAD_GLOBAL              3 (range)
             15 LOAD_CONST               2 (10)
             18 CALL_FUNCTION            1
             21 CALL_FUNCTION            2
             24 CALL_FUNCTION            1
             27 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    r = ''
    for i in range(10):
        r = '%s%s' % (r, str(i))
    return r

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 2.69852018356
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&#39;&#39;)
              3 STORE_FAST               0 (r)

  6           6 SETUP_LOOP              42 (to 51)
              9 LOAD_GLOBAL              0 (range)
             12 LOAD_CONST               2 (10)
             15 CALL_FUNCTION            1
             18 GET_ITER            
        &gt;&gt;   19 FOR_ITER                28 (to 50)
             22 STORE_FAST               1 (i)

  7          25 LOAD_CONST               3 (&#39;%s%s&#39;)
             28 LOAD_FAST                0 (r)
             31 LOAD_GLOBAL              1 (str)
             34 LOAD_FAST                1 (i)
             37 CALL_FUNCTION            1
             40 BUILD_TUPLE              2
             43 BINARY_MODULO       
             44 STORE_FAST               0 (r)
             47 JUMP_ABSOLUTE           19
        &gt;&gt;   50 POP_BLOCK           

  8     &gt;&gt;   51 LOAD_FAST                0 (r)
             54 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test24"><h4>#Test 24</h4></a>
    <div class="row-fluid" id="test24">
        
        <div class="span4"><pre class="python">
def a():
    a = [[1, 2, 3], [2, 3, 4], [4, 5, 6]]
    b = {k: v for x, k, v in a}
    return b

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.723224878311
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 BUILD_LIST               3
             12 LOAD_CONST               2 (2)
             15 LOAD_CONST               3 (3)
             18 LOAD_CONST               4 (4)
             21 BUILD_LIST               3
             24 LOAD_CONST               4 (4)
             27 LOAD_CONST               5 (5)
             30 LOAD_CONST               6 (6)
             33 BUILD_LIST               3
             36 BUILD_LIST               3
             39 STORE_FAST               0 (a)

  6          42 LOAD_CONST               7 (&lt;code object &lt;dictcomp&gt; at 0x7fa2a76c4330, file &#34;/tmp/__pfw_test24_t3.py&#34;, line 6&gt;)
             45 MAKE_FUNCTION            0
             48 LOAD_FAST                0 (a)
             51 GET_ITER            
             52 CALL_FUNCTION            1
             55 STORE_FAST               1 (b)

  7          58 LOAD_FAST                1 (b)
             61 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = [[1, 2, 3], [2, 3, 4], [4, 5, 6]]
    b = {x[1]: x[2] for x in a}
    return b

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.743297815323
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 BUILD_LIST               3
             12 LOAD_CONST               2 (2)
             15 LOAD_CONST               3 (3)
             18 LOAD_CONST               4 (4)
             21 BUILD_LIST               3
             24 LOAD_CONST               4 (4)
             27 LOAD_CONST               5 (5)
             30 LOAD_CONST               6 (6)
             33 BUILD_LIST               3
             36 BUILD_LIST               3
             39 STORE_FAST               0 (a)

  6          42 LOAD_CONST               7 (&lt;code object &lt;dictcomp&gt; at 0x7fb651b1d330, file &#34;/tmp/__pfw_test24_t1.py&#34;, line 6&gt;)
             45 MAKE_FUNCTION            0
             48 LOAD_FAST                0 (a)
             51 GET_ITER            
             52 CALL_FUNCTION            1
             55 STORE_FAST               1 (b)

  7          58 LOAD_FAST                1 (b)
             61 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    a = [[1, 2, 3], [2, 3, 4], [4, 5, 6]]
    b = dict((x, y)for w, x, y in a)
    return b

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.30703091621
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 BUILD_LIST               3
             12 LOAD_CONST               2 (2)
             15 LOAD_CONST               3 (3)
             18 LOAD_CONST               4 (4)
             21 BUILD_LIST               3
             24 LOAD_CONST               4 (4)
             27 LOAD_CONST               5 (5)
             30 LOAD_CONST               6 (6)
             33 BUILD_LIST               3
             36 BUILD_LIST               3
             39 STORE_FAST               0 (a)

  6          42 LOAD_GLOBAL              0 (dict)
             45 LOAD_CONST               7 (&lt;code object &lt;genexpr&gt; at 0x7fe94620e330, file &#34;/tmp/__pfw_test24_t2.py&#34;, line 6&gt;)
             48 MAKE_FUNCTION            0
             51 LOAD_FAST                0 (a)
             54 GET_ITER            
             55 CALL_FUNCTION            1
             58 CALL_FUNCTION            1
             61 STORE_FAST               1 (b)

  7          64 LOAD_FAST                1 (b)
             67 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test25"><h4>#Test 25</h4></a>
    <div class="row-fluid" id="test25">
        
        <div class="span3"><pre class="python">
def a():
    n = 0
    return not n

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.0902190208435
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 STORE_FAST               0 (n)

  6           6 LOAD_FAST                0 (n)
              9 UNARY_NOT           
             10 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    n = 1
    return not n

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.0938351154327
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (n)

  6           6 LOAD_FAST                0 (n)
              9 UNARY_NOT           
             10 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    n = 1
    if n:
        return False
    else:
        return True

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.102524995804
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 STORE_FAST               0 (n)

  6           6 LOAD_FAST                0 (n)
              9 POP_JUMP_IF_FALSE       16

  7          12 LOAD_GLOBAL              0 (False)
             15 RETURN_VALUE        

  9     &gt;&gt;   16 LOAD_GLOBAL              1 (True)
             19 RETURN_VALUE        
             20 LOAD_CONST               0 (None)
             23 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    n = 0
    if n:
        return False
    else:
        return True

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.104429960251
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 STORE_FAST               0 (n)

  6           6 LOAD_FAST                0 (n)
              9 POP_JUMP_IF_FALSE       16

  7          12 LOAD_GLOBAL              0 (False)
             15 RETURN_VALUE        

  9     &gt;&gt;   16 LOAD_GLOBAL              1 (True)
             19 RETURN_VALUE        
             20 LOAD_CONST               0 (None)
             23 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test26"><h4>#Test 26</h4></a>
    <div class="row-fluid" id="test26">
        
        <div class="span6"><pre class="python">
def k(x=1, y=1, z=-1):
    return x * (y - 2 * z)


def a():
    return k(x=5, y=3)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.239637136459
>>> 
>>> dis(a)
  9           0 LOAD_GLOBAL              0 (k)
              3 LOAD_CONST               1 (&#39;x&#39;)
              6 LOAD_CONST               2 (5)
              9 LOAD_CONST               3 (&#39;y&#39;)
             12 LOAD_CONST               4 (3)
             15 CALL_FUNCTION          512
             18 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def k(x=1, y=1, z=-1):
    return x * (y - 2 * z)


def a():
    return k(**{'x': 5, 'y': 3})

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.351180076599
>>> 
>>> dis(a)
  9           0 LOAD_GLOBAL              0 (k)
              3 BUILD_MAP                2
              6 LOAD_CONST               1 (5)
              9 LOAD_CONST               2 (&#39;x&#39;)
             12 STORE_MAP           
             13 LOAD_CONST               3 (3)
             16 LOAD_CONST               4 (&#39;y&#39;)
             19 STORE_MAP           
             20 CALL_FUNCTION_KW         0
             23 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test27"><h4>#Test 27</h4></a>
    <div class="row-fluid" id="test27">
        
        <div class="span6"><pre class="python">
def a(n=25):
    a, b = 0, 1
    for i in range(n):
        x = a + b
        a = b
        b = x
    return a

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.45695209503
>>> 
>>> dis(a)
  5           0 LOAD_CONST               3 ((0, 1))
              3 UNPACK_SEQUENCE          2
              6 STORE_FAST               1 (a)
              9 STORE_FAST               2 (b)

  6          12 SETUP_LOOP              42 (to 57)
             15 LOAD_GLOBAL              0 (range)
             18 LOAD_FAST                0 (n)
             21 CALL_FUNCTION            1
             24 GET_ITER            
        &gt;&gt;   25 FOR_ITER                28 (to 56)
             28 STORE_FAST               3 (i)

  7          31 LOAD_FAST                1 (a)
             34 LOAD_FAST                2 (b)
             37 BINARY_ADD          
             38 STORE_FAST               4 (x)

  8          41 LOAD_FAST                2 (b)
             44 STORE_FAST               1 (a)

  9          47 LOAD_FAST                4 (x)
             50 STORE_FAST               2 (b)
             53 JUMP_ABSOLUTE           25
        &gt;&gt;   56 POP_BLOCK           

 10     &gt;&gt;   57 LOAD_FAST                1 (a)
             60 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a(n=25):
    a, b = 0, 1
    for i in range(n):
        a, b = b, a + b
    return a

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.56691288948
>>> 
>>> dis(a)
  5           0 LOAD_CONST               3 ((0, 1))
              3 UNPACK_SEQUENCE          2
              6 STORE_FAST               1 (a)
              9 STORE_FAST               2 (b)

  6          12 SETUP_LOOP              37 (to 52)
             15 LOAD_GLOBAL              0 (range)
             18 LOAD_FAST                0 (n)
             21 CALL_FUNCTION            1
             24 GET_ITER            
        &gt;&gt;   25 FOR_ITER                23 (to 51)
             28 STORE_FAST               3 (i)

  7          31 LOAD_FAST                2 (b)
             34 LOAD_FAST                1 (a)
             37 LOAD_FAST                2 (b)
             40 BINARY_ADD          
             41 ROT_TWO             
             42 STORE_FAST               1 (a)
             45 STORE_FAST               2 (b)
             48 JUMP_ABSOLUTE           25
        &gt;&gt;   51 POP_BLOCK           

  8     &gt;&gt;   52 LOAD_FAST                1 (a)
             55 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test28"><h4>#Test 28</h4></a>
    <div class="row-fluid" id="test28">
        
        <div class="span4"><pre class="python">
def a():
    x = y = z = w = k = 0
    return x, y, z, w, k

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.155236005783
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 DUP_TOP             
              4 STORE_FAST               0 (x)
              7 DUP_TOP             
              8 STORE_FAST               1 (y)
             11 DUP_TOP             
             12 STORE_FAST               2 (z)
             15 DUP_TOP             
             16 STORE_FAST               3 (w)
             19 STORE_FAST               4 (k)

  6          22 LOAD_FAST                0 (x)
             25 LOAD_FAST                1 (y)
             28 LOAD_FAST                2 (z)
             31 LOAD_FAST                3 (w)
             34 LOAD_FAST                4 (k)
             37 BUILD_TUPLE              5
             40 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    x, y, z, w, k = 0, 0, 0, 0, 0
    return x, y, z, w, k

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.166728019714
>>> 
>>> dis(a)
  5           0 LOAD_CONST               2 ((0, 0, 0, 0, 0))
              3 UNPACK_SEQUENCE          5
              6 STORE_FAST               0 (x)
              9 STORE_FAST               1 (y)
             12 STORE_FAST               2 (z)
             15 STORE_FAST               3 (w)
             18 STORE_FAST               4 (k)

  6          21 LOAD_FAST                0 (x)
             24 LOAD_FAST                1 (y)
             27 LOAD_FAST                2 (z)
             30 LOAD_FAST                3 (w)
             33 LOAD_FAST                4 (k)
             36 BUILD_TUPLE              5
             39 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    x = 0
    y = 0
    z = 0
    w = 0
    k = 0
    return x, y, z, w, k

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.182820081711
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (0)
              3 STORE_FAST               0 (x)

  6           6 LOAD_CONST               1 (0)
              9 STORE_FAST               1 (y)

  7          12 LOAD_CONST               1 (0)
             15 STORE_FAST               2 (z)

  8          18 LOAD_CONST               1 (0)
             21 STORE_FAST               3 (w)

  9          24 LOAD_CONST               1 (0)
             27 STORE_FAST               4 (k)

 10          30 LOAD_FAST                0 (x)
             33 LOAD_FAST                1 (y)
             36 LOAD_FAST                2 (z)
             39 LOAD_FAST                3 (w)
             42 LOAD_FAST                4 (k)
             45 BUILD_TUPLE              5
             48 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test29"><h4>#Test 29</h4></a>
    <div class="row-fluid" id="test29">
        
        <div class="span3"><pre class="python">
import math


def a():
    n = 123.123
    return math.floor(n)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.149427890778
>>> 
>>> dis(a)
  8           0 LOAD_CONST               1 (123.123)
              3 STORE_FAST               0 (n)

  9           6 LOAD_GLOBAL              0 (math)
              9 LOAD_ATTR                1 (floor)
             12 LOAD_FAST                0 (n)
             15 CALL_FUNCTION            1
             18 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    n = 123.123
    return int(n)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.199829816818
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (123.123)
              3 STORE_FAST               0 (n)

  6           6 LOAD_GLOBAL              0 (int)
              9 LOAD_FAST                0 (n)
             12 CALL_FUNCTION            1
             15 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
def a():
    n = 123.123
    return n // 1

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.20648598671
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (123.123)
              3 STORE_FAST               0 (n)

  6           6 LOAD_FAST                0 (n)
              9 LOAD_CONST               2 (1)
             12 BINARY_FLOOR_DIVIDE 
             13 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span3"><pre class="python">
import math


def a():
    n = 123.123
    return math.trunc(n)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.222184181213
>>> 
>>> dis(a)
  8           0 LOAD_CONST               1 (123.123)
              3 STORE_FAST               0 (n)

  9           6 LOAD_GLOBAL              0 (math)
              9 LOAD_ATTR                1 (trunc)
             12 LOAD_FAST                0 (n)
             15 CALL_FUNCTION            1
             18 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test30"><h4>#Test 30</h4></a>
    <div class="row-fluid" id="test30">
        
        <div class="span4"><pre class="python">
def a():
    f = lambda *args: args
    return f('a', 'b')

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.196429014206
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&lt;code object &lt;lambda&gt; at 0x7fcb9d43e330, file &#34;/tmp/__pfw_test30_t1.py&#34;, line 5&gt;)
              3 MAKE_FUNCTION            0
              6 STORE_FAST               0 (f)

  6           9 LOAD_FAST                0 (f)
             12 LOAD_CONST               2 (&#39;a&#39;)
             15 LOAD_CONST               3 (&#39;b&#39;)
             18 CALL_FUNCTION            2
             21 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    f = lambda *args: args
    return f(*('a', 'b'))

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.224511861801
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&lt;code object &lt;lambda&gt; at 0x7fb346981330, file &#34;/tmp/__pfw_test30_t2.py&#34;, line 5&gt;)
              3 MAKE_FUNCTION            0
              6 STORE_FAST               0 (f)

  6           9 LOAD_FAST                0 (f)
             12 LOAD_CONST               4 ((&#39;a&#39;, &#39;b&#39;))
             15 CALL_FUNCTION_VAR        0
             18 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    f = lambda *args: args
    return f(*'ab')

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.392660856247
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&lt;code object &lt;lambda&gt; at 0x7f61c31b6330, file &#34;/tmp/__pfw_test30_t3.py&#34;, line 5&gt;)
              3 MAKE_FUNCTION            0
              6 STORE_FAST               0 (f)

  6           9 LOAD_FAST                0 (f)
             12 LOAD_CONST               2 (&#39;ab&#39;)
             15 CALL_FUNCTION_VAR        0
             18 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test31"><h4>#Test 31</h4></a>
    <div class="row-fluid" id="test31">
        
        <div class="span6"><pre class="python">
def a(int=int, str=str, range=range):
    for i in range(500):
        int(str(i))


number = 100000

>>> 
>>> min(timeit.repeat(a, number=100000))
... 20.9530489445
>>> 
>>> dis(a)
  5           0 SETUP_LOOP              36 (to 39)
              3 LOAD_FAST                2 (range)
              6 LOAD_CONST               1 (500)
              9 CALL_FUNCTION            1
             12 GET_ITER            
        &gt;&gt;   13 FOR_ITER                22 (to 38)
             16 STORE_FAST               3 (i)

  6          19 LOAD_FAST                0 (int)
             22 LOAD_FAST                1 (str)
             25 LOAD_FAST                3 (i)
             28 CALL_FUNCTION            1
             31 CALL_FUNCTION            1
             34 POP_TOP             
             35 JUMP_ABSOLUTE           13
        &gt;&gt;   38 POP_BLOCK           
        &gt;&gt;   39 LOAD_CONST               0 (None)
             42 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    for i in range(500):
        int(str(i))


number = 100000

>>> 
>>> min(timeit.repeat(a, number=100000))
... 22.3065500259
>>> 
>>> dis(a)
  5           0 SETUP_LOOP              36 (to 39)
              3 LOAD_GLOBAL              0 (range)
              6 LOAD_CONST               1 (500)
              9 CALL_FUNCTION            1
             12 GET_ITER            
        &gt;&gt;   13 FOR_ITER                22 (to 38)
             16 STORE_FAST               0 (i)

  6          19 LOAD_GLOBAL              1 (int)
             22 LOAD_GLOBAL              2 (str)
             25 LOAD_FAST                0 (i)
             28 CALL_FUNCTION            1
             31 CALL_FUNCTION            1
             34 POP_TOP             
             35 JUMP_ABSOLUTE           13
        &gt;&gt;   38 POP_BLOCK           
        &gt;&gt;   39 LOAD_CONST               0 (None)
             42 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test32"><h4>#Test 32</h4></a>
    <div class="row-fluid" id="test32">
        
        <div class="span6"><pre class="python">
def a():
    D = {}
    for k in xrange(0, 200):
        D[k] if k in D else None
    return D

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 7.84633517265
>>> 
>>> dis(a)
  5           0 BUILD_MAP                0
              3 STORE_FAST               0 (D)

  6           6 SETUP_LOOP              49 (to 58)
              9 LOAD_GLOBAL              0 (xrange)
             12 LOAD_CONST               1 (0)
             15 LOAD_CONST               2 (200)
             18 CALL_FUNCTION            2
             21 GET_ITER            
        &gt;&gt;   22 FOR_ITER                32 (to 57)
             25 STORE_FAST               1 (k)

  7          28 LOAD_FAST                1 (k)
             31 LOAD_FAST                0 (D)
             34 COMPARE_OP               6 (in)
             37 POP_JUMP_IF_FALSE       50
             40 LOAD_FAST                0 (D)
             43 LOAD_FAST                1 (k)
             46 BINARY_SUBSCR       
             47 JUMP_FORWARD             3 (to 53)
        &gt;&gt;   50 LOAD_CONST               0 (None)
        &gt;&gt;   53 POP_TOP             
             54 JUMP_ABSOLUTE           22
        &gt;&gt;   57 POP_BLOCK           

  8     &gt;&gt;   58 LOAD_FAST                0 (D)
             61 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    D = {}
    for k in xrange(0, 200):
        D.get(k)
    return D

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 16.0122170448
>>> 
>>> dis(a)
  5           0 BUILD_MAP                0
              3 STORE_FAST               0 (D)

  6           6 SETUP_LOOP              36 (to 45)
              9 LOAD_GLOBAL              0 (xrange)
             12 LOAD_CONST               1 (0)
             15 LOAD_CONST               2 (200)
             18 CALL_FUNCTION            2
             21 GET_ITER            
        &gt;&gt;   22 FOR_ITER                19 (to 44)
             25 STORE_FAST               1 (k)

  7          28 LOAD_FAST                0 (D)
             31 LOAD_ATTR                1 (get)
             34 LOAD_FAST                1 (k)
             37 CALL_FUNCTION            1
             40 POP_TOP             
             41 JUMP_ABSOLUTE           22
        &gt;&gt;   44 POP_BLOCK           

  8     &gt;&gt;   45 LOAD_FAST                0 (D)
             48 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test33"><h4>#Test 33</h4></a>
    <div class="row-fluid" id="test33">
        
        <div class="span4"><pre class="python">
def a():
    s = "World"
    return "Hello, " + s + "!"

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.147135972977
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&#39;World&#39;)
              3 STORE_FAST               0 (s)

  6           6 LOAD_CONST               2 (&#39;Hello, &#39;)
              9 LOAD_FAST                0 (s)
             12 BINARY_ADD          
             13 LOAD_CONST               3 (&#39;!&#39;)
             16 BINARY_ADD          
             17 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    s = "World"
    return "Hello, %s!" % s

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.169257879257
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&#39;World&#39;)
              3 STORE_FAST               0 (s)

  6           6 LOAD_CONST               2 (&#39;Hello, %s!&#39;)
              9 LOAD_FAST                0 (s)
             12 BINARY_MODULO       
             13 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span4"><pre class="python">
def a():
    s = "World"
    return "Hello, {0}!".format(s)

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.243378162384
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (&#39;World&#39;)
              3 STORE_FAST               0 (s)

  6           6 LOAD_CONST               2 (&#39;Hello, {0}!&#39;)
              9 LOAD_ATTR                0 (format)
             12 LOAD_FAST                0 (s)
             15 CALL_FUNCTION            1
             18 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test34"><h4>#Test 34</h4></a>
    <div class="row-fluid" id="test34">
        
        <div class="span6"><pre class="python">
def a():
    my_set = {1, 2, 3, 5, 12, 11, 16, 14}
    for i in range(20):
        if i in my_set:
            pass
    return my_set

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.52534079552
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (5)
             12 LOAD_CONST               5 (12)
             15 LOAD_CONST               6 (11)
             18 LOAD_CONST               7 (16)
             21 LOAD_CONST               8 (14)
             24 BUILD_SET                8
             27 STORE_FAST               0 (my_set)

  6          30 SETUP_LOOP              35 (to 68)
             33 LOAD_GLOBAL              0 (range)
             36 LOAD_CONST               9 (20)
             39 CALL_FUNCTION            1
             42 GET_ITER            
        &gt;&gt;   43 FOR_ITER                21 (to 67)
             46 STORE_FAST               1 (i)

  7          49 LOAD_FAST                1 (i)
             52 LOAD_FAST                0 (my_set)
             55 COMPARE_OP               6 (in)
             58 POP_JUMP_IF_FALSE       43

  8          61 JUMP_ABSOLUTE           43
             64 JUMP_ABSOLUTE           43
        &gt;&gt;   67 POP_BLOCK           

  9     &gt;&gt;   68 LOAD_FAST                0 (my_set)
             71 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    my_list = [1, 2, 3, 5, 12, 11, 16, 14]
    for i in range(20):
        if i in my_list:
            pass
    return my_list

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 1.89270591736
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (5)
             12 LOAD_CONST               5 (12)
             15 LOAD_CONST               6 (11)
             18 LOAD_CONST               7 (16)
             21 LOAD_CONST               8 (14)
             24 BUILD_LIST               8
             27 STORE_FAST               0 (my_list)

  6          30 SETUP_LOOP              35 (to 68)
             33 LOAD_GLOBAL              0 (range)
             36 LOAD_CONST               9 (20)
             39 CALL_FUNCTION            1
             42 GET_ITER            
        &gt;&gt;   43 FOR_ITER                21 (to 67)
             46 STORE_FAST               1 (i)

  7          49 LOAD_FAST                1 (i)
             52 LOAD_FAST                0 (my_list)
             55 COMPARE_OP               6 (in)
             58 POP_JUMP_IF_FALSE       43

  8          61 JUMP_ABSOLUTE           43
             64 JUMP_ABSOLUTE           43
        &gt;&gt;   67 POP_BLOCK           

  9     &gt;&gt;   68 LOAD_FAST                0 (my_list)
             71 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
    <a href="#test35"><h4>#Test 35</h4></a>
    <div class="row-fluid" id="test35">
        
        <div class="span6"><pre class="python">
def a():
    l = [1, 2, 3, 4, 5, 6, 7, 8, 9]
    c = l[:]
    return l, c

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.341064929962
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 LOAD_CONST               6 (6)
             18 LOAD_CONST               7 (7)
             21 LOAD_CONST               8 (8)
             24 LOAD_CONST               9 (9)
             27 BUILD_LIST               9
             30 STORE_FAST               0 (l)

  6          33 LOAD_FAST                0 (l)
             36 SLICE+0             
             37 STORE_FAST               1 (c)

  7          40 LOAD_FAST                0 (l)
             43 LOAD_FAST                1 (c)
             46 BUILD_TUPLE              2
             49 RETURN_VALUE        

>>> 
        </pre></div>
        
        <div class="span6"><pre class="python">
def a():
    l = [1, 2, 3, 4, 5, 6, 7, 8, 9]
    c = list(l)
    return l, c

>>> 
>>> min(timeit.repeat(a, number=1000000))
... 0.410385847092
>>> 
>>> dis(a)
  5           0 LOAD_CONST               1 (1)
              3 LOAD_CONST               2 (2)
              6 LOAD_CONST               3 (3)
              9 LOAD_CONST               4 (4)
             12 LOAD_CONST               5 (5)
             15 LOAD_CONST               6 (6)
             18 LOAD_CONST               7 (7)
             21 LOAD_CONST               8 (8)
             24 LOAD_CONST               9 (9)
             27 BUILD_LIST               9
             30 STORE_FAST               0 (l)

  6          33 LOAD_GLOBAL              0 (list)
             36 LOAD_FAST                0 (l)
             39 CALL_FUNCTION            1
             42 STORE_FAST               1 (c)

  7          45 LOAD_FAST                0 (l)
             48 LOAD_FAST                1 (c)
             51 BUILD_TUPLE              2
             54 RETURN_VALUE        

>>> 
        </pre></div>
        
    </div>
    
</div>
<script src="javascripts/highlight.pack.js"></script>
<script>
    window.onload = function() {
        var aCodes = document.getElementsByTagName('pre');
        for (var i = 0; i < aCodes.length; i++) {
            hljs.highlightBlock(aCodes[i]);
        }
    };
</script>
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-17236714-3']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>
